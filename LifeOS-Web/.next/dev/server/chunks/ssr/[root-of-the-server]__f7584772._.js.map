{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///app/LifeOS-Web/app/components/RiskAudit.tsx"],"sourcesContent":["// RiskAudit.tsx\n// Interactive component for weekly risk audit with 5 categories × 7 days grid, scoring, and AI analysis.\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\n\nconst categories = ['Physical Security', 'Household Reliability', 'Parenting Example', 'Emotional Attunement', 'Follow-Through'];\n\nexport default function RiskAudit() {\n  // State for the audit data, which is a grid of categories and days.\n  const [audit, setAudit] = useState<Record<string, string>>({});\n  // State for the score, which is the number of '✓' marks.\n  const [score, setScore] = useState(0);\n  // State for the AI's analysis of the audit data.\n  const [analysis, setAnalysis] = useState('');\n  // State to track whether the AI analysis is in progress.\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const saved = localStorage.getItem('marriageEqRiskAudit');\n    if (saved) setAudit(JSON.parse(saved));\n  }, []);\n\n  useEffect(() => {\n    const total = Object.values(audit).filter(v => v === '✓').length;\n    setScore(total);\n  }, [audit]);\n\n  const toggleValue = (category: string, day: number) => {\n    const key = `${category}-${day}`;\n    const current = audit[key] || '';\n    const next = current === '' ? '✓' : current === '✓' ? '~' : current === '~' ? '✗' : '';\n    setAudit({ ...audit, [key]: next });\n    localStorage.setItem('marriageEqRiskAudit', JSON.stringify({ ...audit, [key]: next }));\n  };\n\n  const getColor = () => {\n    if (score >= 20) return 'text-green-600';\n    if (score >= 10) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  /**\n   * Sends the audit data to the backend for analysis and updates the state\n   * with the AI's response.\n   */\n  const handleAiAnalysis = async () => {\n    setIsLoading(true);\n    setAnalysis('');\n    try {\n      const response = await fetch('/api/analyze/risk_audit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ audit_data: audit }),\n      });\n      const data = await response.json();\n      if (data.error) {\n        setAnalysis(`Error: ${data.error}`);\n      } else {\n        setAnalysis(data.analysis);\n      }\n    } catch (error) {\n      setAnalysis('An unexpected error occurred.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-4 max-w-4xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Weekly Risk Audit</h1>\n      <div className=\"mb-4\">\n        <p className={`text-lg font-semibold ${getColor()}`}>\n          Score: {score}/35 ✓ marks\n        </p>\n      </div>\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full border-collapse border\">\n          <thead>\n            <tr>\n              <th className=\"border p-2\">Category</th>\n              {Array.from({ length: 7 }, (_, i) => (\n                <th key={i} className=\"border p-2\">Day {i + 1}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {categories.map(category => (\n              <tr key={category}>\n                <td className=\"border p-2 font-semibold\">{category}</td>\n                {Array.from({ length: 7 }, (_, day) => (\n                  <td key={day} className=\"border p-2 text-center\">\n                    <button\n                      onClick={() => toggleValue(category, day)}\n                      className=\"w-8 h-8 border rounded hover:bg-gray-100\"\n                    >\n                      {audit[`${category}-${day}`] || ''}\n                    </button>\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"mt-6\">\n        <button className=\"px-4 py-2 bg-blue-500 text-white rounded\">\n          AI Analysis (Placeholder)\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///app/LifeOS-Web/app/risk-audit/page.tsx"],"sourcesContent":["// app/risk-audit/page.tsx\n'use client';\n\nimport React from 'react';\nimport RiskAudit from '../components/RiskAudit';\n\nexport default function RiskAuditPage() {\n  return (\n    <div>\n      <h1>Risk Audit</h1>\n      <RiskAudit />\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;AAI1B;AAHA;;;AAKe,SAAS;IACtB,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BACJ,8OAAC,0IAAS;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///app/LifeOS-Web/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///app/LifeOS-Web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///app/LifeOS-Web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}